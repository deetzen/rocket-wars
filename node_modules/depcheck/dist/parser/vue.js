"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = parseVue;

var _parser = require("@babel/parser");

var _utils = require("../utils");

const compiler = (0, _utils.tryRequire)('vue-template-compiler');

function parseVue(content) {
  if (!compiler) {
    return [];
  }

  const parsed = compiler.parseComponent(content);

  if (!parsed.script) {
    return [];
  }

  return (0, _parser.parse)(parsed.script.content, {
    sourceType: 'module'
  });
}

module.exports = exports.default;